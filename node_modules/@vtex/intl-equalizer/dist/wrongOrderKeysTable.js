'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createTable;

var _cliTable = require('cli-table3');

var _cliTable2 = _interopRequireDefault(_cliTable);

var _safe = require('colors/safe');

var _safe2 = _interopRequireDefault(_safe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function createTable(result, referenceLocale) {
  const table = new _cliTable2.default({
    chars: {
      top: '═',
      'top-mid': '╤',
      'top-left': '╔',
      'top-right': '╗',
      bottom: '═',
      'bottom-mid': '╧',
      'bottom-left': '╚',
      'bottom-right': '╝',
      left: '║',
      'left-mid': '╟',
      mid: '─',
      'mid-mid': '┼',
      right: '║',
      'right-mid': '╢',
      middle: '│'
    },
    head: [{
      colSpan: 4,
      hAlign: 'center',
      content: _safe2.default.yellow(`KEYS WITH DIFFERENT ORDER \n Run 'intl-equalizer --fix' to fix the order of the keys.`)
    }]
  });

  table.push([{
    colSpan: 4,
    hAlign: 'center',
    content: _safe2.default.yellow(`REFERENCE LOCALE: ${referenceLocale.toUpperCase()}`)
  }]);

  table.push([{ hAlign: 'center', content: _safe2.default.yellow('LOCALE') }, { hAlign: 'center', content: _safe2.default.yellow('KEY') }, { hAlign: 'center', content: _safe2.default.yellow('CURRENT LINE') }, { hAlign: 'center', content: _safe2.default.yellow('CORRECT LINE') }]);

  Object.keys(result).forEach(countryName => {
    if (countryName === referenceLocale) return;

    const country = countryName.toUpperCase();

    result[countryName].wrongOrderKeys.forEach(currentKey => {
      table.push([country, currentKey.key, currentKey.wrongLine, currentKey.correctLine]);
    });
  });

  console.log(table.toString());
}